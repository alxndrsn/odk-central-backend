--- node_modules/supertest/index.js	2025-03-17 12:27:56.260254487 +0000
+++ node_modules/supertest/index.js	2025-03-19 06:40:31.171469590 +0000
@@ -4,7 +4,6 @@
  * Module dependencies.
  */
 const methods = require('methods');
-const http = require('http');
 let http2;
 try {
   http2 = require('http2'); // eslint-disable-line global-require
@@ -18,7 +17,7 @@
  * Test against the given `app`,
  * returning a new `Test`.
  *
- * @param {Function|Server} app
+ * @param {Function|Server|String} app
  * @return {Test}
  * @api public
  */
@@ -32,15 +31,12 @@
           'supertest: this version of Node.js does not support http2'
         );
       }
-      app = http2.createServer(app); // eslint-disable-line no-param-reassign
-    } else {
-      app = http.createServer(app); // eslint-disable-line no-param-reassign
     }
   }
 
   methods.forEach(function(method) {
     obj[method] = function(url) {
-      var test = new Test(app, method, url);
+      var test = new Test(app, method, url, options.http2);
       if (options.http2) {
         test.http2();
       }
